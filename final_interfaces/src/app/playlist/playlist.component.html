<app-profile-header [title]="'Jpop Mix'" [artist]="'Pekoe'" [imgSrc]="'jpop.png'"></app-profile-header>

<div class="playlist-controls">
    <div class="playlist-info">
        <span class="play-count">
            <i class="fas fa-play"></i>
            {{ playCount }} plays
        </span>
    </div>
    <div class="playlist-actions">
        <div class="action-item" [matTooltip]="'Edit playlist'" matTooltipPosition="below">
            <i class="fas fa-edit"></i>
        </div>
        <div class="action-item" [matTooltip]="'Delete playlist'" matTooltipPosition="below">
            <i class="fas fa-trash"></i>
        </div>
    </div>
</div>

<div class="playlist-container">
    <table class="playlist-table">
        <thead>
            <tr>
                <th class="index-col">#</th>
                <th class="title-col">Title</th>
                <th class="artist-col">Artist</th>
                <th class="rating-col">Rating</th>
                <th class="date-col">Date Added</th>
                <th class="time-col">Time</th>
            </tr>
        </thead>
        <tbody>
            @for (track of tracks; track track.id; let i = $index) {
            <tr class="track-row">
                <td class="index-col">{{ i + 1 }}</td>
                <td class="title-col">
                    <div class="track-info">
                        <div class="track-details">
                            <span class="track-title">{{ track.title }}</span>
                            <span class="track-album">{{ track.album }}</span>
                        </div>
                    </div>
                </td>
                <td class="artist-col">{{ track.artist }}</td>
                <td class="rating-col">
                    <div class="stars">
                        @for (star of [1,2,3,4,5]; track star) {
                        <i class="fas fa-star" [class.active]="star <= track.rating"></i>
                        }
                    </div>
                </td>
                <td class="date-col">{{ track.dateAdded }}</td>
                <td class="time-col">{{ track.duration }}</td>
            </tr>
            }
        </tbody>
    </table>

    <app-comment-section [comments]="comments" (commentAdded)="onCommentAdded($event)">
    </app-comment-section>
</div>